(this["webpackJsonpreact-jobs"]=this["webpackJsonpreact-jobs"]||[]).push([[0],{25:function(e,t,n){},32:function(e,t,n){e.exports=n(59)},37:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},46:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),i=(n(37),n(6)),l=n(11),u=n(10),s=n(12),m=n(20),f=n.n(m),b=n(17),p="https://fave-jobs-api.herokuapp.com/jobs",d="fave-jobs-react/jobs",E="".concat(d,"/FETCH_JOBS"),j="".concat(d,"/ADD_FAVORITE"),h="".concat(d,"/REMOVE_FAVORITE"),_=function(e,t){var n=t;return e.api_id===t.api_id&&(n=Object(b.a)({},t,{favorite:!t.favorite})),n},v=function(e,t){var n=e.map((function(e){return e.api_id})),a=t.filter((function(e){return!n.includes(e.id)}));return e.concat(a)},y=function(e){return function(t){var n;return f.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,f.a.awrap(fetch("".concat(p)).then((function(e){return e.json()})).then((function(n){var a=n.map((function(e){return Object(b.a)({},e,{favorite:!0})}));return e||t({type:E,payload:a}),a})));case 2:if(n=a.sent,e){a.next=5;break}return a.abrupt("return");case 5:fetch("".concat("https://www.getonbrd.com/search/jobs","?q=").concat(e)).then((function(e){return e.json()})).then((function(e){var a=e.jobs.map((function(e){return Object(b.a)({},e,{favorite:!1,api_id:e.id})})),r=v(n,a);return t({type:E,payload:r})}));case 6:case"end":return a.stop()}}))}},O=(n(43),function(e){var t=e.job,n=Object(i.b)();return t.favorite?r.a.createElement("button",{type:"button",className:"fave-button fave-button--yes",onClick:function(){return n(function(e){return function(t){fetch("".concat(p,"/").concat(e.api_id),{method:"DELETE"}).then((function(e){var n=e.headers.get("Api-Id");t({type:h,payload:{api_id:n}})}))}}(t))}},r.a.createElement("span",{className:"fave-button__text fave-button__text--normal"},"Favorite job!")):r.a.createElement("button",{type:"button",className:"fave-button fave-button--no",onClick:function(){return n(function(e){return function(t){fetch("".concat(p),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){return t({type:j,payload:e})}))}}(t))}},"Add to favorites")}),g=(n(44),n(25),function(e){var t,n=e.job,a=n.salary.split("-").map((function(e){return"$".concat(e.trim())})).join(" - ");return t=n.remote?r.a.createElement("span",null,"This is a",r.a.createElement("strong",null," remote "),"job."):r.a.createElement("span",null,"This job is in ".concat(n.city,", ").concat(n.country)),r.a.createElement("div",{className:"job__wrapper"},r.a.createElement("div",{className:"job job--card"},r.a.createElement(l.b,{to:n.api_id,className:"job__link"},r.a.createElement("h3",null,n.company.name),r.a.createElement("img",{src:n.logo_url,alt:n.company.name,className:"job__logo"}),r.a.createElement("p",null,n.title),r.a.createElement("p",null,a),r.a.createElement("p",null,t)),r.a.createElement(O,{job:n})))}),w=function(){var e=Object(i.b)(),t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],o=n[1];return r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),e(y(c))}},r.a.createElement("input",{value:c,onChange:function(e){return o(e.target.value)}}),r.a.createElement("button",{type:"submit"},"Search jobs"))},N=(n(46),function(){var e,t=Object(i.b)(),n=Object(a.useState)([]),c=Object(s.a)(n,1)[0];return(c=Object(i.c)((function(e){return e.jobs}))).length>0?e=c.map((function(e){return r.a.createElement(g,{job:e,key:e.id})})):(e=r.a.createElement("p",null,"Loading..."),t(y(""))),r.a.createElement("div",{className:"index"},r.a.createElement("header",null,r.a.createElement("h1",null,"My Favorite Job Offers"),r.a.createElement("p",{className:"index__powered-by"},"powered by\xa0",r.a.createElement("a",{href:"https://www.getonbrd.com/",className:"index__link"},"Get on Board")),r.a.createElement(w,null)),r.a.createElement("main",null,e))}),S=n(16),T=n.n(S),k=(n(58),function(e){var t=e.job,n=r.a.createElement("span",null,"".concat(t.city,", ").concat(t.country),"\xa0",r.a.createElement("img",{src:t.country_flag_url,alt:"flag of ".concat(t.country),height:"25px"})),a=t.remote?"remote":n,c=t.salary.split("-").map((function(e){return"$".concat(e.trim())})).join(" - "),o=r.a.createElement("div",{className:"job__text"},t.description?T()(t.description):null,t.functions?T()(t.functions):null,t.benefits?T()(t.benefits):null);return r.a.createElement("div",{className:"job job--details"},r.a.createElement(l.b,{to:"/"},r.a.createElement("small",null,"<","- back")),r.a.createElement("h1",null,t.title),r.a.createElement("div",{className:"btn-container"},r.a.createElement(O,{job:t}),r.a.createElement("br",null),r.a.createElement("img",{src:t.logo_url,alt:"".concat(t.company.name," logo")})),r.a.createElement("p",null,"Published on\xa0",t.published_at,"\xa0|\xa0 See on\xa0",r.a.createElement("a",{href:"https://getonbrd.com".concat(t.url)},"Get on Board")),r.a.createElement("p",null,t.seniority,"\xa0|\xa0",c,"\xa0|\xa0",t.modality,"\xa0|\xa0",a),o)}),x=function(){var e=Object(u.f)(),t=Object(i.c)((function(t){return t.jobs.filter((function(t){return t.api_id===e.params.id}))})),n=Object(s.a)(t,1)[0];return r.a.createElement(k,{job:n})},D=n(31),I=n(9),R=n(30),V=Object(I.c)({jobs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case E:return a;case j:case h:return e.map((function(e){return _(a,e)}));default:return e}}});window.__REDUX_DEVTOOLS_EXTENSION__=window.__REDUX_DEVTOOLS_EXTENSION__||function(e){return e};var X=[Object(I.a)(R.a),window.__REDUX_DEVTOOLS_EXTENSION__()].filter((function(e){return void 0!==e&&null!==e})),A=I.d.apply(void 0,Object(D.a)(X))(I.e)(V);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){return r.a.createElement(i.a,{store:A},r.a.createElement(l.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:N}),r.a.createElement(u.a,{path:"/:id",component:x}))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[32,1,2]]]);
//# sourceMappingURL=main.c5861b1f.chunk.js.map